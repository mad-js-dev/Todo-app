import{s as _e,f as S,a as H,g as D,h as V,c as M,d as p,j as w,F as U,i as A,w as g,G as x,E as ee,H as ge,l as G,m as j,z as oe,I as ke,n as ne,k as Q,v as ve,y as me,J as be,K as Se}from"../chunks/scheduler.041ed484.js";import{S as pe,i as he,b as O,d as z,m as P,g as X,t as y,c as Y,a as I,e as B,f as te}from"../chunks/index.d1b72ddb.js";import{w as De}from"../chunks/index.b4115846.js";import{I as W,e as ce,u as we,o as Le}from"../chunks/IconButton.745d98e5.js";import{s as se}from"../chunks/index.ff29264b.js";import{C as Ie}from"../chunks/ColumnsGrid.bafb97d9.js";const Z=[{id:0,description:"Finish the report for the upcoming meeting",done:!1},{id:1,description:"Clean the garage",done:!0},{id:2,description:"Buy groceries for the week",done:!1},{id:3,description:"Schedule a doctor's appointment",done:!0}];function $e(l){console.log(localStorage.storable?JSON.parse(localStorage.storable):Z),console.log(localStorage.storable?"localStorage.storable":"dummyData");const{subscribe:e,set:t,update:s}=De(l);return localStorage.storable==null?t(Z):t(JSON.parse(localStorage.storable)),{subscribe:e,set:t,update:n=>s(o=>{const i=o.map(a=>a.id==n.id?n:a);return console.log("meh0"),localStorage.storable=JSON.stringify(o),i}),create:()=>s(n=>{const o={id:Date.now(),description:"New task",done:!1};return console.log(n),n.unshift(o),n}),read:()=>s(n=>n),delete:n=>s(o=>{const i=o.filter(a=>{if(a.id!=n.id)return a});return localStorage.storable=JSON.stringify(i),i}),reset:()=>t(Z)}}$e(Z);function ue(l,e,t){const s=l.slice();return s[23]=e[t],s}function Ee(l){let e,t;return e=new W({props:{icon:"checkSquare",$$slots:{label:[ye]},$$scope:{ctx:l}}}),e.$on("click",l[12]),{c(){O(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,n){P(e,s,n),t=!0},p(s,n){const o={};n&67108896&&(o.$$scope={dirty:n,ctx:s}),e.$set(o)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}function Te(l){let e,t;return e=new W({props:{icon:"square",$$slots:{label:[Ne]},$$scope:{ctx:l}}}),e.$on("click",l[12]),{c(){O(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,n){P(e,s,n),t=!0},p(s,n){const o={};n&67108896&&(o.$$scope={dirty:n,ctx:s}),e.$set(o)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}function Ve(l){let e,t;return e=new W({props:{icon:"minusSquare",$$slots:{label:[Ce]},$$scope:{ctx:l}}}),e.$on("click",l[12]),{c(){O(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,n){P(e,s,n),t=!0},p(s,n){const o={};n&67108896&&(o.$$scope={dirty:n,ctx:s}),e.$set(o)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}function ye(l){let e=`Show: ${l[5]}`,t;return{c(){t=G(e)},l(s){t=j(s,e)},m(s,n){A(s,t,n)},p(s,n){n&32&&e!==(e=`Show: ${s[5]}`)&&ne(t,e)},d(s){s&&p(t)}}}function Ne(l){let e=`Show: ${l[5]}`,t;return{c(){t=G(e)},l(s){t=j(s,e)},m(s,n){A(s,t,n)},p(s,n){n&32&&e!==(e=`Show: ${s[5]}`)&&ne(t,e)},d(s){s&&p(t)}}}function Ce(l){let e=`Show: ${l[5]}`,t;return{c(){t=G(e)},l(s){t=j(s,e)},m(s,n){A(s,t,n)},p(s,n){n&32&&e!==(e=`Show: ${s[5]}`)&&ne(t,e)},d(s){s&&p(t)}}}function qe(l){let e;return{c(){e=G("Create task")},l(t){e=j(t,"Create task")},m(t,s){A(t,e,s)},d(t){t&&p(e)}}}function fe(l){let e,t,s,n,o,i,a,f,E,$,_,C,N,k;return f=new W({props:{className:"o-taskList__removeItem",icon:"trashAlt",$$slots:{default:[Fe]},$$scope:{ctx:l}}}),f.$on("click",l[16]),$=new W({props:{className:"o-taskList__closeItem",icon:"checkSquare",$$slots:{default:[Ae]},$$scope:{ctx:l}}}),$.$on("click",l[17]),{c(){e=S("div"),t=S("div"),s=S("label"),n=G(`Description: \r
                `),o=S("input"),i=H(),a=S("div"),O(f.$$.fragment),E=H(),O($.$$.fragment),this.h()},l(c){e=D(c,"DIV",{class:!0});var h=V(e);t=D(h,"DIV",{class:!0});var v=V(t);s=D(v,"LABEL",{});var q=V(s);n=j(q,`Description: \r
                `),o=D(q,"INPUT",{class:!0,type:!0,placeholder:!0}),q.forEach(p),v.forEach(p),i=M(h),a=D(h,"DIV",{class:!0});var T=V(a);z(f.$$.fragment,T),E=M(T),z($.$$.fragment,T),T.forEach(p),h.forEach(p),this.h()},h(){w(o,"class","o-taskList__searhField"),w(o,"type","text"),w(o,"placeholder","Description"),w(t,"class","svelte-1moi4f6"),w(a,"class","svelte-1moi4f6"),w(e,"class","o-taskList__editor svelte-1moi4f6")},m(c,h){A(c,e,h),g(e,t),g(t,s),g(s,n),g(s,o),x(o,l[4].description),g(e,i),g(e,a),P(f,a,null),g(a,E),P($,a,null),C=!0,N||(k=[ee(o,"input",l[15]),ee(o,"input",l[8])],N=!0)},p(c,h){h&16&&o.value!==c[4].description&&x(o,c[4].description);const v={};h&67108864&&(v.$$scope={dirty:h,ctx:c}),f.$set(v);const q={};h&67108864&&(q.$$scope={dirty:h,ctx:c}),$.$set(q)},i(c){C||(I(f.$$.fragment,c),I($.$$.fragment,c),c&&oe(()=>{C&&(_||(_=te(e,se,{},!0)),_.run(1))}),C=!0)},o(c){y(f.$$.fragment,c),y($.$$.fragment,c),c&&(_||(_=te(e,se,{},!1)),_.run(0)),C=!1},d(c){c&&p(e),B(f),B($),c&&_&&_.end(),N=!1,ke(k)}}}function Fe(l){let e;return{c(){e=G("Delete task")},l(t){e=j(t,"Delete task")},m(t,s){A(t,e,s)},d(t){t&&p(e)}}}function Ae(l){let e;return{c(){e=G("Close")},l(t){e=j(t,"Close")},m(t,s){A(t,e,s)},d(t){t&&p(e)}}}function Je(l){let e,t;function s(){return l[19](l[23])}return e=new W({props:{className:"o-taskList__check",icon:"checkSquare",theme:"chromeless"}}),e.$on("click",s),{c(){O(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,o){P(e,n,o),t=!0},p(n,o){l=n},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Oe(l){let e,t;function s(){return l[18](l[23])}return e=new W({props:{className:"o-taskList__check",icon:"square",theme:"chromeless"}}),e.$on("click",s),{c(){O(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,o){P(e,n,o),t=!0},p(n,o){l=n},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ze(l){let e;return{c(){e=G("Edit task")},l(t){e=j(t,"Edit task")},m(t,s){A(t,e,s)},d(t){t&&p(e)}}}function de(l,e){let t,s,n,o,i,a,f,E,$=e[23].description+"",_,C,N,k,c,h,v;const q=[Oe,Je],T=[];function K(b,d){return b[23].done?0:1}o=K(e),i=T[o]=q[o](e);function J(){return e[20](e[23])}return k=new W({props:{className:"o-taskList__itemedit",icon:"edit",$$slots:{default:[ze]},$$scope:{ctx:e}}}),k.$on("click",J),{key:l,first:null,c(){t=S("div"),s=S("div"),n=S("div"),i.c(),a=H(),f=S("div"),E=S("span"),_=G($),C=H(),N=S("div"),O(k.$$.fragment),c=H(),this.h()},l(b){t=D(b,"DIV",{class:!0});var d=V(t);s=D(d,"DIV",{class:!0});var F=V(s);n=D(F,"DIV",{});var m=V(n);i.l(m),m.forEach(p),F.forEach(p),a=M(d),f=D(d,"DIV",{class:!0});var r=V(f);E=D(r,"SPAN",{});var u=V(E);_=j(u,$),u.forEach(p),r.forEach(p),C=M(d),N=D(d,"DIV",{});var L=V(N);z(k.$$.fragment,L),L.forEach(p),c=M(d),d.forEach(p),this.h()},h(){w(s,"class","o-taskList__itemCheck svelte-1moi4f6"),w(f,"class","o-taskList__itemDescription svelte-1moi4f6"),w(t,"class","o-taskList__item svelte-1moi4f6"),this.first=t},m(b,d){A(b,t,d),g(t,s),g(s,n),T[o].m(n,null),g(t,a),g(t,f),g(f,E),g(E,_),g(t,C),g(t,N),P(k,N,null),g(t,c),v=!0},p(b,d){e=b;let F=o;o=K(e),o===F?T[o].p(e,d):(X(),y(T[F],1,1,()=>{T[F]=null}),Y(),i=T[o],i?i.p(e,d):(i=T[o]=q[o](e),i.c()),I(i,1),i.m(n,null)),(!v||d&64)&&$!==($=e[23].description+"")&&ne(_,$);const m={};d&67108864&&(m.$$scope={dirty:d,ctx:e}),k.$set(m)},i(b){v||(I(i),I(k.$$.fragment,b),b&&oe(()=>{v&&(h||(h=te(t,se,{},!0)),h.run(1))}),v=!0)},o(b){y(i),y(k.$$.fragment,b),b&&(h||(h=te(t,se,{},!1)),h.run(0)),v=!1},d(b){b&&p(t),T[o].d(),B(k),b&&h&&h.end()}}}function Pe(l){let e,t,s,n,o,i,a,f,E,$,_,C,N,k,c=[],h=new Map,v,q,T;const K=[Ve,Te,Ee],J=[];function b(r,u){return r[3]==0?0:r[3]==1?1:2}a=b(l),f=J[a]=K[a](l),_=new W({props:{className:"o-taskList__createTask",icon:"plusSquare",$$slots:{default:[qe]},$$scope:{ctx:l}}}),_.$on("click",l[7]);let d=l[4]!=null&&fe(l),F=ce(l[6]());const m=r=>r[23].id;for(let r=0;r<F.length;r+=1){let u=ue(l,F,r),L=m(u);h.set(L,c[r]=de(L,u))}return{c(){e=S("div"),t=S("div"),s=S("div"),n=S("input"),o=H(),i=S("div"),f.c(),E=H(),$=S("div"),O(_.$$.fragment),C=H(),d&&d.c(),N=H(),k=S("div");for(let r=0;r<c.length;r+=1)c[r].c();this.h()},l(r){e=D(r,"DIV",{class:!0});var u=V(e);t=D(u,"DIV",{class:!0});var L=V(t);s=D(L,"DIV",{class:!0});var R=V(s);n=D(R,"INPUT",{class:!0,type:!0,placeholder:!0}),o=M(R),i=D(R,"DIV",{class:!0});var re=V(i);f.l(re),re.forEach(p),R.forEach(p),E=M(L),$=D(L,"DIV",{class:!0});var ie=V($);z(_.$$.fragment,ie),ie.forEach(p),L.forEach(p),C=M(u),d&&d.l(u),N=M(u),k=D(u,"DIV",{class:!0});var ae=V(k);for(let le=0;le<c.length;le+=1)c[le].l(ae);ae.forEach(p),u.forEach(p),this.h()},h(){w(n,"class","o-taskList__searchField svelte-1moi4f6"),w(n,"type","text"),w(n,"placeholder","Search"),w(i,"class","o-taskList__filterDone svelte-1moi4f6"),w(s,"class","svelte-1moi4f6"),w($,"class","svelte-1moi4f6"),w(t,"class","o-taskList__header svelte-1moi4f6"),w(k,"class","o-taskList__content svelte-1moi4f6"),w(e,"class","o-taskList svelte-1moi4f6"),U(e,"o-taskList--condensed",l[0]),U(e,"o-taskList--extended",l[1]),U(e,"o-taskList--edit",l[4])},m(r,u){A(r,e,u),g(e,t),g(t,s),g(s,n),x(n,l[2]),g(s,o),g(s,i),J[a].m(i,null),g(t,E),g(t,$),P(_,$,null),g(e,C),d&&d.m(e,null),g(e,N),g(e,k);for(let L=0;L<c.length;L+=1)c[L]&&c[L].m(k,null);v=!0,q||(T=ee(n,"input",l[14]),q=!0)},p(r,[u]){u&4&&n.value!==r[2]&&x(n,r[2]);let L=a;a=b(r),a===L?J[a].p(r,u):(X(),y(J[L],1,1,()=>{J[L]=null}),Y(),f=J[a],f?f.p(r,u):(f=J[a]=K[a](r),f.c()),I(f,1),f.m(i,null));const R={};u&67108864&&(R.$$scope={dirty:u,ctx:r}),_.$set(R),r[4]!=null?d?(d.p(r,u),u&16&&I(d,1)):(d=fe(r),d.c(),I(d,1),d.m(e,N)):d&&(X(),y(d,1,1,()=>{d=null}),Y()),u&2624&&(F=ce(r[6]()),X(),c=we(c,u,m,1,r,F,h,k,Le,de,null,ue),Y()),(!v||u&1)&&U(e,"o-taskList--condensed",r[0]),(!v||u&2)&&U(e,"o-taskList--extended",r[1]),(!v||u&16)&&U(e,"o-taskList--edit",r[4])},i(r){if(!v){I(f),I(_.$$.fragment,r),I(d);for(let u=0;u<F.length;u+=1)I(c[u]);v=!0}},o(r){y(f),y(_.$$.fragment,r),y(d);for(let u=0;u<c.length;u+=1)y(c[u]);v=!1},d(r){r&&p(e),J[a].d(),B(_),d&&d.d();for(let u=0;u<c.length;u+=1)c[u].d();q=!1,T()}}}let Be=null;function He(l,e,t){let s,n,o,i;const a=ge();let{list:f=[]}=e,{condensed:E=!1}=e,{extended:$=!1}=e,_="";const C=()=>{a("createTask"),t(4,s=o()[0])},N=()=>{a("updateTask",s)},k=m=>{m.done=!m.done,a("updateTask",m)},c=()=>{console.log("delete component level",s),a("deleteTask",s),t(4,s=null)},h=m=>{m!=null?(t(4,s=f.filter(r=>{if(r.id==m.id)return r})[0]),s.description):t(4,s=null)},v=()=>{n<2?t(3,n++,n):t(3,n=0)};function q(){_=this.value,t(2,_)}function T(){s.description=this.value,t(4,s)}const K=()=>c(),J=()=>h(null),b=m=>k(m),d=m=>k(m),F=m=>h(m);return l.$$set=m=>{"list"in m&&t(13,f=m.list),"condensed"in m&&t(0,E=m.condensed),"extended"in m&&t(1,$=m.extended)},l.$$.update=()=>{l.$$.dirty&8204&&t(6,o=()=>{let m=f.filter(r=>{if(n==0)return r;if(n==1){if(r.done==!0)return r}else if(n==2&&r.done!=!0)return r});return _!=""&&(m=m.filter(r=>{if(new RegExp(_,"i").test(r.description))return r})),m}),l.$$.dirty&8&&t(5,i=n!=0?n!=1?"Only done":"Not done":"All")},t(4,s=Be),t(3,n=0),[E,$,_,n,s,i,o,C,N,k,c,h,v,f,q,T,K,J,b,d,F]}class Me extends pe{constructor(e){super(),he(this,e,He,Pe,_e,{list:13,condensed:0,extended:1})}}function We(l){let e,t="<div><h2>Very very long lorem ipsum long lorem ipsum title</h2> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse cursus, sapien varius maximus hendrerit, diam tellus cursus mi, eu tempor turpis est sed diam. Donec tortor mauris, condimentum imperdiet imperdiet nec, tempor a odio. Aenean sed vehicula neque.</p></div>";return{c(){e=S("div"),e.innerHTML=t,this.h()},l(s){e=D(s,"DIV",{slot:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1ounhmo"&&(e.innerHTML=t),this.h()},h(){w(e,"slot","column1")},m(s,n){A(s,e,n)},p:me,d(s){s&&p(e)}}}function Ge(l){let e,t,s;return t=new Me({props:{list:l[2],condensed:l[0]<768,extended:l[0]>768&&l[0]<1200}}),t.$on("createTask",function(){be(l[1].create)&&l[1].create.apply(this,arguments)}),t.$on("updateTask",l[4]),t.$on("deleteTask",l[5]),{c(){e=S("div"),O(t.$$.fragment),this.h()},l(n){e=D(n,"DIV",{slot:!0});var o=V(e);z(t.$$.fragment,o),o.forEach(p),this.h()},h(){w(e,"slot","column2")},m(n,o){A(n,e,o),P(t,e,null),s=!0},p(n,o){l=n;const i={};o&4&&(i.list=l[2]),o&1&&(i.condensed=l[0]<768),o&1&&(i.extended=l[0]>768&&l[0]<1200),t.$set(i)},i(n){s||(I(t.$$.fragment,n),s=!0)},o(n){y(t.$$.fragment,n),s=!1},d(n){n&&p(e),B(t)}}}function je(l){let e,t,s,n,o;return oe(l[3]),e=new Ie({props:{$$slots:{column2:[Ge],column1:[We]},$$scope:{ctx:l}}}),{c(){t=S("div"),O(e.$$.fragment),this.h()},l(i){t=D(i,"DIV",{style:!0});var a=V(t);z(e.$$.fragment,a),this.h()},h(){Q(t,"display","contents"),Q(t,"--cols","2"),Q(t,"--col1Width","4"),Q(t,"--col2Width","8")},m(i,a){A(i,t,a),P(e,t,null),s=!0,n||(o=ee(window,"resize",l[3]),n=!0)},p(i,[a]){const f={};a&71&&(f.$$scope={dirty:a,ctx:i}),e.$set(f)},i(i){s||(I(e.$$.fragment,i),s=!0)},o(i){y(e.$$.fragment,i),s=!1},d(i){i&&e&&p(t),B(e,i),n=!1,o()}}}function Ke(l,e,t){let s,n,o=me,i=()=>(o(),o=Se(s,_=>t(2,n=_)),s);l.$$.on_destroy.push(()=>o());let a;function f(){t(0,a=window.innerWidth)}const E=_=>s.update(_.detail),$=_=>s.delete(_.detail);return i(t(1,s=$e(localStorage.storable?localStorage.storable:[]))),[a,s,n,f,E,$]}class xe extends pe{constructor(e){super(),he(this,e,Ke,je,_e,{})}}export{xe as component};
